# Implementation Plan
**Generated**: 2025-12-31T23:10:00Z
**Generated By**: Scout-and-Plan Agent (combined workflow)
**Task ID**: Issue #9
**Estimated Build Time**: 2-3 hours
**Complexity**: Moderate

## Investigation Summary

### Request Analysis
**Type**: Feature (Local SEO Enhancement)
**Source**: GitHub Issue #9
**Priority**: High (labeled high-priority, seo, local-seo)

### Task Classification
**Category**: FEATURE
**Test Strategy**: STANDARD (Build + lint + visual verification)

### Current State Assessment
- **Section affected**: Contact section (lines 726-800 in App.jsx) and Footer (lines 810-829)
- **CSS files involved**: Both `src/index.css` (contact section styles lines 1088-1166) and `src/App.css` (contact-image styles)
- **Current behavior**:
  - Contact section has a contact form with an image above it
  - Footer has address "3855 SW 153rd Drive, Beaverton, OR" on line 819
  - Phone number "(503) 619-0505" on line 820
  - Existing LocalBusiness schema in `index.html` (lines 35-70) - uses "ProfessionalService" type with incomplete address (missing street, zip)
  - No map embed currently exists
  - Phone link exists but no explicit click-to-call styling

### Complexity Assessment
**Complexity**: Moderate
**Effort**: 2-3 hours
**Risk**: Low - additive feature, no existing functionality to break

### Patterns Identified
**Primary Pattern - Section Layout**: The Confidential AI section (lines 544-565) shows a two-column layout pattern with text on one side and image/visual on other using flexbox `.confidential-ai-content`

**Reference CSS for two-column layout** (index.css lines 690-726):
```css
.confidential-ai-content {
  display: flex;
  align-items: center;
  gap: 3rem;
  max-width: 900px;
  margin: 0 auto;
}
```

**Existing Contact Section Structure** (App.jsx lines 726-800):
- Section header with h2, p, and image
- Contact form below (or thank-you message if submitted)
- Form is max-width: 600px centered

---

## Executive Summary

This implementation adds a Google Maps embed to the Contact section for local SEO enhancement. The changes include:
1. Adding an interactive Google Maps iframe showing the business location
2. Adding click-to-call button and directions link with appropriate styling
3. Enhancing the existing LocalBusiness schema with geo coordinates and complete address

The map will be placed alongside the contact form in a two-column layout (similar to the Confidential AI section pattern), with the map on the right on desktop and stacking on mobile.

---

## Phase 1: Update LocalBusiness Schema

### Subtask 1.1: Enhance LocalBusiness Schema with Geo Coordinates and Complete Address
**File**: `/home/pbrown/aireadypdx/index.html`
**Pattern**: Enhance existing ProfessionalService schema (lines 35-70)
**Instructions**:

1. Locate the existing JSON-LD schema block starting at line 35
2. Update the schema to include:
   - Change to `LocalBusiness` type (or keep ProfessionalService as it inherits from LocalBusiness)
   - Add complete street address: "3855 SW 153rd Drive"
   - Add postal code: "97006"
   - Add city: "Beaverton" (actual city, not Portland)
   - Add telephone: "(503) 619-0505"
   - Add geo coordinates for the address

3. Replace the address block (lines 44-49) with:
```json
"address": {
  "@type": "PostalAddress",
  "streetAddress": "3855 SW 153rd Drive",
  "addressLocality": "Beaverton",
  "addressRegion": "OR",
  "postalCode": "97006",
  "addressCountry": "US"
},
"geo": {
  "@type": "GeoCoordinates",
  "latitude": 45.4589,
  "longitude": -122.8258
},
"telephone": "+1-503-619-0505",
```

4. Also update line 42 to include the phone number:
```json
"telephone": "+1-503-619-0505",
```

**Validation**:
```bash
npm run build
```
**Completion Criteria**:
- [ ] Build passes
- [ ] JSON-LD is valid (no syntax errors in build)
- [ ] Schema includes complete address with street, city, postal code
- [ ] Schema includes geo coordinates
- [ ] Schema includes telephone number

---

## Phase 2: Add Google Maps Embed to Contact Section

### Subtask 2.1: Create Map Container and Embed in App.jsx
**File**: `/home/pbrown/aireadypdx/src/App.jsx`
**Pattern**: Two-column layout similar to Confidential AI section
**Instructions**:

1. Locate the Contact section starting at line 726
2. Restructure to create a two-column layout with map and form side by side
3. After the section-header closing div (around line 736), add a wrapper div for the two-column layout

Replace the structure from line 737 onwards to wrap the form and add map:

```jsx
{/* Contact Section */}
<section id="contact" className="contact">
  <div className="container">
    <div className="section-header">
      <h2>Let's talk about AI in your business</h2>
      <p>Whether you're curious, cautious, or already experimenting, we'd be happy to talk. Tell us a bit about your organization and we'll follow up with next steps.</p>
      <img
        src="/images/sections/ai-strategy-consultation-portland.png"
        alt="AI strategy consultation session with Portland business owner"
        className="section-image contact-image"
      />
    </div>
    <div className="contact-content">
      <div className="contact-info">
        <div className="contact-map">
          <iframe
            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2797.8!2d-122.8258!3d45.4589!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x54950e8b7b7b7b7b%3A0x0!2s3855+SW+153rd+Dr%2C+Beaverton%2C+OR+97006!5e0!3m2!1sen!2sus!4v1704000000000!5m2!1sen!2sus"
            width="100%"
            height="300"
            style={{border: 0, borderRadius: '12px'}}
            allowFullScreen=""
            loading="lazy"
            referrerPolicy="no-referrer-when-downgrade"
            title="AI Ready PDX Office Location"
          ></iframe>
        </div>
        <div className="contact-actions">
          <a href="tel:+15036190505" className="btn btn-secondary contact-action-btn" onClick={() => trackPhoneClick('+15036190505')}>
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
              <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/>
            </svg>
            Call (503) 619-0505
          </a>
          <a href="https://www.google.com/maps/dir//3855+SW+153rd+Dr,+Beaverton,+OR+97006" target="_blank" rel="noopener noreferrer" className="btn btn-secondary contact-action-btn">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
              <path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/>
              <circle cx="12" cy="10" r="3"/>
            </svg>
            Get Directions
          </a>
        </div>
      </div>
      {formSubmitted ? (
        <div className="contact-form" style={{textAlign: 'center'}}>
          <h3 style={{color: 'var(--color-accent)', marginBottom: '1rem'}}>Thank you!</h3>
          <p>Thanks for reaching out. We'll review your message and get back to you within two business days.</p>
        </div>
      ) : (
        <form className="contact-form" onSubmit={handleSubmit}>
          {/* ... existing form content ... */}
        </form>
      )}
    </div>
  </div>
</section>
```

Note: The Google Maps embed URL needs to be generated properly. Use this format:
- Base URL: `https://www.google.com/maps/embed/v1/place`
- With API key OR use the simpler iframe embed from Google Maps share feature
- Address: 3855 SW 153rd Drive, Beaverton, OR 97006

**Alternative (no API key required)**: Use Google Maps "Share > Embed a map" URL format which the Build agent should verify works.

**Validation**:
```bash
npm run build
npm run lint
```
**Completion Criteria**:
- [ ] Build passes
- [ ] No lint errors
- [ ] Map renders in contact section
- [ ] Click-to-call button displays with phone icon
- [ ] Directions link opens Google Maps in new tab

---

## Phase 3: Add CSS Styles for Map and Contact Layout

### Subtask 3.1: Add Contact Section Two-Column Layout Styles
**File**: `/home/pbrown/aireadypdx/src/index.css`
**Pattern**: Similar to `.confidential-ai-content` flexbox layout
**Instructions**:

Add the following styles after the existing `.contact-form` styles (after line 1166):

```css
/* Contact Section Two-Column Layout */
.contact-content {
  display: flex;
  gap: 3rem;
  max-width: 1100px;
  margin: 0 auto;
  align-items: flex-start;
}

.contact-info {
  flex: 0 0 400px;
}

.contact-map {
  margin-bottom: 1.5rem;
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
}

.contact-map iframe {
  display: block;
}

.contact-actions {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
}

.contact-action-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  width: 100%;
  padding: 0.875rem 1.5rem;
}

.contact-action-btn svg {
  flex-shrink: 0;
}

/* Responsive - stack on mobile */
@media (max-width: 992px) {
  .contact-content {
    flex-direction: column;
  }

  .contact-info {
    flex: none;
    width: 100%;
    max-width: 600px;
    margin: 0 auto;
  }
}
```

**Validation**:
```bash
npm run build
```
**Completion Criteria**:
- [ ] Build passes
- [ ] Two-column layout displays on desktop (map left, form right)
- [ ] Stacks to single column on mobile/tablet
- [ ] Contact action buttons are full-width with centered content
- [ ] Map has proper border-radius matching design system

---

## Phase 4: Visual Verification

### Subtask 4.1: Verify Responsive Behavior
**Instructions**:
1. Run `npm run dev` and open http://localhost:5173
2. Navigate to the Contact section
3. Verify on desktop:
   - Map displays on left side
   - Form displays on right side
   - Click-to-call and directions buttons are visible below map
   - Map is interactive (can pan/zoom)
4. Verify on tablet/mobile (resize browser or use DevTools):
   - Layout stacks vertically
   - Map appears above form
   - Buttons remain full-width and clickable
5. Test click-to-call link (should open phone app on mobile or show call dialog on desktop)
6. Test directions link (should open Google Maps in new tab)

**Validation**:
```bash
npm run build
npm run lint
```
**Completion Criteria**:
- [ ] Desktop layout shows map beside form
- [ ] Mobile layout stacks map above form
- [ ] Map is interactive and loads correctly
- [ ] Click-to-call initiates phone action
- [ ] Directions opens Google Maps

---

## Summary of Deliverables
**Files Modified**:
1. `/home/pbrown/aireadypdx/index.html` - Enhanced LocalBusiness schema with geo coordinates and complete address
2. `/home/pbrown/aireadypdx/src/App.jsx` - Added Google Maps iframe, click-to-call button, and directions link to Contact section
3. `/home/pbrown/aireadypdx/src/index.css` - Added responsive two-column layout styles for contact section

---

## Handoff to Build Agent
1. Execute subtasks in exact order (Schema first, then JSX, then CSS)
2. Test completion criteria before moving to next subtask
3. Follow reference patterns exactly (especially the flexbox layout from Confidential AI section)
4. Run `npm run dev` for visual verification after Phase 2 and 3
5. **Important**: The Google Maps embed URL may need adjustment - verify the iframe loads correctly. If the embed URL doesn't work, get the proper embed code from Google Maps:
   - Go to Google Maps
   - Search for "3855 SW 153rd Drive, Beaverton, OR 97006"
   - Click Share > Embed a map > Copy HTML
   - Extract the `src` URL from the iframe

---

## Performance Metrics
| Phase | Duration |
|-------|----------|
| Issue Classification | 1m |
| Investigation | 5m |
| Pattern Identification | 3m |
| Validation | 2m |
| Planning | 10m |
| **Total** | **21m** |

---

## Insights & Process Improvements (REQUIRED)

### Issues Encountered During Investigation
1. **Geo coordinates accuracy** - The coordinates (45.4589, -122.8258) are approximate based on the address. Build agent should verify these are accurate or adjust based on actual Google Maps data.
2. **Google Maps embed URL** - The embed URL format I provided may need adjustment. Google's iframe embed URLs can be tricky to construct without using their share feature. The Build agent should verify the iframe loads correctly and adjust if needed.

### Input Quality Assessment
**Clarity of Original Request**: 4/5
**Missing Information**:
- No specific design mockup for map placement
- No preference for map size/height
- No Google Maps API key provided (optional but useful)
**Suggested Input Improvements**:
- Include specific placement preference (left vs right of form, above vs beside)
- Include desired map height
- Specify if Google Maps API key is available for enhanced embed options

### Process Improvement Suggestions
**For Future Scout-and-Plan Runs**:
1. When dealing with third-party embeds (maps, videos), note that URLs may need to be generated/verified by the Build agent since they can't be reliably constructed without testing

**For Build Agent**:
1. Test the Google Maps iframe immediately after adding it - don't wait until the end
2. If the embed URL doesn't work, use Google Maps share feature to get the correct embed code
3. The geo coordinates in the schema should match the map's actual center point

**For Overall Workflow**:
1. For local SEO features, consider adding a checklist item to verify schema with Google's Rich Results Test tool
